import { DailyCandle, MarketChart, PriceByDay } from '@/app/coin/interfaces/CoinAPIResponse';
import { addPriceByDay, filterOutToday } from '@/utils/marketDataUtils';
import { NextResponse } from 'next/server';

const data: MarketChart = {
  "prices": [
    [
      1723053738272,
      2379.905294354856
    ],
    [
      1723057601227,
      2358.2287537824195
    ],
    [
      1723060930361,
      2350.9553467006717
    ],
    [
      1723064708838,
      2343.876991926175
    ],
    [
      1723068283242,
      2362.583665146709
    ],
    [
      1723072106204,
      2357.3405328533468
    ],
    [
      1723075761939,
      2349.107086764342
    ],
    [
      1723079167841,
      2358.507508564369
    ],
    [
      1723082908424,
      2451.3856934418386
    ],
    [
      1723086430730,
      2461.949931952387
    ],
    [
      1723089717258,
      2432.2253031241144
    ],
    [
      1723093552619,
      2430.3064772020484
    ],
    [
      1723097609040,
      2418.397620615709
    ],
    [
      1723100464023,
      2436.463426523884
    ],
    [
      1723104839579,
      2415.284253943177
    ],
    [
      1723108064617,
      2426.70345819201
    ],
    [
      1723111339696,
      2438.4846893194594
    ],
    [
      1723115669059,
      2444.770984606055
    ],
    [
      1723119326254,
      2446.449077800059
    ],
    [
      1723122622365,
      2479.8184691361007
    ],
    [
      1723125803003,
      2433.5239008339076
    ],
    [
      1723129351842,
      2501.9471932499755
    ],
    [
      1723132913165,
      2508.3913464011243
    ],
    [
      1723136767899,
      2589.969710578384
    ],
    [
      1723140237295,
      2578.0375016200132
    ],
    [
      1723143647956,
      2576.862798923248
    ],
    [
      1723147346446,
      2569.67434447225
    ],
    [
      1723150926483,
      2570.1621117089117
    ],
    [
      1723154564666,
      2643.027140003285
    ],
    [
      1723158999211,
      2703.470558440875
    ],
    [
      1723162641265,
      2676.012154278127
    ],
    [
      1723166142279,
      2658.472093381961
    ],
    [
      1723169574415,
      2674.8780413025684
    ],
    [
      1723172428227,
      2672.805187607698
    ],
    [
      1723177064959,
      2696.8710863015126
    ],
    [
      1723179783783,
      2663.747109454986
    ],
    [
      1723184182274,
      2680.7107021765455
    ],
    [
      1723187609529,
      2694.5021471582595
    ],
    [
      1723191536224,
      2662.995002267318
    ],
    [
      1723194909486,
      2676.056311186433
    ],
    [
      1723198672032,
      2658.0352437944607
    ],
    [
      1723201620971,
      2639.7053943542546
    ],
    [
      1723205756847,
      2636.777628276277
    ],
    [
      1723208744214,
      2628.6817742544995
    ],
    [
      1723212750504,
      2628.6343295751426
    ],
    [
      1723215965900,
      2594.25027929376
    ],
    [
      1723219970607,
      2570.065745932078
    ],
    [
      1723223303330,
      2593.454052668651
    ],
    [
      1723226483359,
      2589.7421981787875
    ],
    [
      1723230753228,
      2587.1891860964147
    ],
    [
      1723234046144,
      2589.39853037619
    ],
    [
      1723237928664,
      2566.5977060998985
    ],
    [
      1723241749748,
      2592.0368611997874
    ],
    [
      1723245483690,
      2589.323502167376
    ],
    [
      1723248834607,
      2593.7010173850445
    ],
    [
      1723252623131,
      2607.8131227646436
    ],
    [
      1723256484872,
      2604.4486107997513
    ],
    [
      1723260112225,
      2599.73718541062
    ],
    [
      1723263131881,
      2600.399357387308
    ],
    [
      1723266653777,
      2597.919687476804
    ],
    [
      1723269889037,
      2607.0531639161068
    ],
    [
      1723273587251,
      2624.7430882498243
    ],
    [
      1723277320236,
      2635.7134954646244
    ],
    [
      1723280706641,
      2632.470136954901
    ],
    [
      1723284506767,
      2632.190226395769
    ],
    [
      1723288463543,
      2634.364733522369
    ],
    [
      1723291924959,
      2633.4413154051636
    ],
    [
      1723295994638,
      2620.7903663297225
    ],
    [
      1723299420725,
      2613.2365265158587
    ],
    [
      1723302948759,
      2622.061350061
    ],
    [
      1723306672719,
      2602.1114924542258
    ],
    [
      1723310058257,
      2604.267221669108
    ],
    [
      1723313618547,
      2612.3288089732036
    ],
    [
      1723317477475,
      2600.3023660394615
    ],
    [
      1723320457879,
      2602.3671503912524
    ],
    [
      1723323813595,
      2605.446981283149
    ],
    [
      1723327899034,
      2608.715938252893
    ],
    [
      1723330868474,
      2607.273723456768
    ],
    [
      1723334908987,
      2611.7409791984364
    ],
    [
      1723338327307,
      2625.2908048228796
    ],
    [
      1723341837985,
      2630.408787359601
    ],
    [
      1723345523040,
      2625.366407146567
    ],
    [
      1723349369468,
      2645.315573999904
    ],
    [
      1723352819095,
      2647.859986656569
    ],
    [
      1723356633758,
      2656.813289784766
    ],
    [
      1723360246031,
      2666.02124702923
    ],
    [
      1723363794708,
      2680.0858763787896
    ],
    [
      1723367252835,
      2690.8840874941407
    ],
    [
      1723370741457,
      2686.072408289365
    ],
    [
      1723374155467,
      2676.770204152459
    ],
    [
      1723377725477,
      2655.8586437176573
    ],
    [
      1723382273890,
      2625.724765228582
    ],
    [
      1723385914985,
      2646.0906826837254
    ],
    [
      1723388675644,
      2615.7360442842783
    ],
    [
      1723393091994,
      2607.9971441941298
    ],
    [
      1723395620948,
      2624.6454522521
    ],
    [
      1723399856221,
      2636.4675554650375
    ],
    [
      1723404067076,
      2628.274809447349
    ],
    [
      1723407456365,
      2565.358557520965
    ],
    [
      1723411141795,
      2561.5543393965513
    ],
    [
      1723414658665,
      2566.7936483674894
    ],
    [
      1723418028949,
      2562.707885447046
    ],
    [
      1723420819734,
      2558.790870730736
    ],
    [
      1723425274748,
      2533.902811144379
    ],
    [
      1723429007986,
      2550.106089861172
    ],
    [
      1723432407068,
      2538.607105728102
    ],
    [
      1723436176719,
      2537.9026809250913
    ],
    [
      1723439474555,
      2542.351721407916
    ],
    [
      1723442857768,
      2551.1452668734114
    ],
    [
      1723446738262,
      2537.7754034066106
    ],
    [
      1723450853121,
      2584.0304188103855
    ],
    [
      1723453446120,
      2563.273205282337
    ],
    [
      1723457876811,
      2589.6759249354654
    ],
    [
      1723461407227,
      2668.3375607995067
    ],
    [
      1723464283115,
      2673.2268453311176
    ],
    [
      1723468358289,
      2687.9227522581277
    ],
    [
      1723472564727,
      2663.222203825961
    ],
    [
      1723475151039,
      2702.7921259707673
    ],
    [
      1723479834924,
      2668.9391506342185
    ],
    [
      1723483559359,
      2674.618907171487
    ],
    [
      1723486927772,
      2667.5244975748847
    ],
    [
      1723490035191,
      2646.1431385423384
    ],
    [
      1723493020978,
      2656.8479744991014
    ],
    [
      1723497550869,
      2674.416560333329
    ],
    [
      1723501251333,
      2696.958321229921
    ],
    [
      1723504037833,
      2702.6871048914827
    ],
    [
      1723507984941,
      2728.4977852375596
    ],
    [
      1723511279552,
      2720.1915666276286
    ],
    [
      1723514920607,
      2729.998224934029
    ],
    [
      1723519076279,
      2663.5096131844552
    ],
    [
      1723522571794,
      2651.043450701219
    ],
    [
      1723525584951,
      2657.129549718441
    ],
    [
      1723529994582,
      2650.6863861263005
    ],
    [
      1723532694876,
      2654.9495918989282
    ],
    [
      1723537149017,
      2656.9610224957237
    ],
    [
      1723540878834,
      2643.0745302070263
    ],
    [
      1723544490631,
      2631.265740937679
    ],
    [
      1723547597274,
      2634.0892032760753
    ],
    [
      1723550429671,
      2641.0234721001543
    ],
    [
      1723554652268,
      2647.763313592015
    ],
    [
      1723559031769,
      2669.6383555111806
    ],
    [
      1723562663959,
      2648.8824822433676
    ],
    [
      1723566221762,
      2678.560685038519
    ],
    [
      1723568646414,
      2719.1056324398087
    ],
    [
      1723571063000,
      2726.0876734515487
    ]
  ],
  "market_caps": [
    [
      1723053738272,
      286106004041.7428
    ],
    [
      1723057601227,
      282363264732.64435
    ],
    [
      1723060930361,
      282868848705.6246
    ],
    [
      1723064708838,
      281846932132.01044
    ],
    [
      1723068283242,
      284117932136.88586
    ],
    [
      1723072106204,
      283162619319.1893
    ],
    [
      1723075761939,
      281567298678.4317
    ],
    [
      1723079167841,
      283451431396.10333
    ],
    [
      1723082908424,
      293730078249.2154
    ],
    [
      1723086430730,
      295386295820.25336
    ],
    [
      1723089717258,
      292979557140.11554
    ],
    [
      1723093552619,
      291751103016.8932
    ],
    [
      1723097609040,
      291920226855.42896
    ],
    [
      1723100464023,
      293214948750.3683
    ],
    [
      1723104839579,
      290809769284.9075
    ],
    [
      1723108064617,
      291933171727.73376
    ],
    [
      1723111339696,
      293385643642.09296
    ],
    [
      1723115669059,
      293969347774.4958
    ],
    [
      1723119326254,
      294501714598.1941
    ],
    [
      1723122622365,
      298120767327.4714
    ],
    [
      1723125803003,
      292698785429.3837
    ],
    [
      1723129351842,
      300944582434.1293
    ],
    [
      1723132913165,
      301647653886.4355
    ],
    [
      1723136767899,
      312082410485.3229
    ],
    [
      1723140237295,
      310767731274.96246
    ],
    [
      1723143647956,
      310049516208.9726
    ],
    [
      1723147346446,
      308845506432.44934
    ],
    [
      1723150926483,
      309293732792.614
    ],
    [
      1723154564666,
      316331395558.4512
    ],
    [
      1723158999211,
      325297970440.805
    ],
    [
      1723162641265,
      321152180163.9868
    ],
    [
      1723166142279,
      318542745171.03314
    ],
    [
      1723169574415,
      320652414814.6518
    ],
    [
      1723172428227,
      321517802909.0665
    ],
    [
      1723177064959,
      325018056010.52686
    ],
    [
      1723179783783,
      320311013560.2122
    ],
    [
      1723184182274,
      322072898532.3928
    ],
    [
      1723187609529,
      323995961412.07996
    ],
    [
      1723191536224,
      320215152193.99164
    ],
    [
      1723194909486,
      321589531047.7165
    ],
    [
      1723198672032,
      319668974465.5213
    ],
    [
      1723201620971,
      317266414955.7713
    ],
    [
      1723205756847,
      317166443431.2042
    ],
    [
      1723208744214,
      316149891664.59796
    ],
    [
      1723212750504,
      317305018569.60803
    ],
    [
      1723215965900,
      312749847934.7662
    ],
    [
      1723219970607,
      308961382000.4722
    ],
    [
      1723223303330,
      311917528806.05304
    ],
    [
      1723226483359,
      311468392512.17615
    ],
    [
      1723230753228,
      310725743484.6549
    ],
    [
      1723234046144,
      311681748330.22296
    ],
    [
      1723237928664,
      309202431577.7146
    ],
    [
      1723241749748,
      312885435064.10406
    ],
    [
      1723245483690,
      311545251337.7139
    ],
    [
      1723248834607,
      312497196395.217
    ],
    [
      1723252623131,
      312439395498.32935
    ],
    [
      1723256484872,
      313008127890.77496
    ],
    [
      1723260112225,
      312773669226.3093
    ],
    [
      1723263131881,
      312796189502.977
    ],
    [
      1723266653777,
      312428530482.2463
    ],
    [
      1723269889037,
      313740146378.4765
    ],
    [
      1723273587251,
      315507288972.7626
    ],
    [
      1723277320236,
      316699536403.6451
    ],
    [
      1723280706641,
      316424746312.8677
    ],
    [
      1723284506767,
      316575817318.5307
    ],
    [
      1723288463543,
      316304981863.80676
    ],
    [
      1723291924959,
      317307535267.3475
    ],
    [
      1723295994638,
      315384752364.31464
    ],
    [
      1723299420725,
      314197458282.9374
    ],
    [
      1723302948759,
      314894608457.88293
    ],
    [
      1723306672719,
      312564652807.4596
    ],
    [
      1723310058257,
      313126631883.57996
    ],
    [
      1723313618547,
      313768211763.9869
    ],
    [
      1723317477475,
      312631634502.8427
    ],
    [
      1723320457879,
      313143764310.6645
    ],
    [
      1723323813595,
      313402578095.4492
    ],
    [
      1723327899034,
      313765284588.4027
    ],
    [
      1723330868474,
      313864440849.43945
    ],
    [
      1723334908987,
      313923874865.89777
    ],
    [
      1723338327307,
      315761696915.0935
    ],
    [
      1723341837985,
      316408431246.8875
    ],
    [
      1723345523040,
      315779509998.61664
    ],
    [
      1723349369468,
      318468891874.15576
    ],
    [
      1723352819095,
      318051954734.44476
    ],
    [
      1723356633758,
      320445025011.9692
    ],
    [
      1723360246031,
      320315671506.84766
    ],
    [
      1723363794708,
      322292988376.9862
    ],
    [
      1723367252835,
      323078435340.4283
    ],
    [
      1723370741457,
      323129160337.33484
    ],
    [
      1723374155467,
      321921787467.4999
    ],
    [
      1723377725477,
      319404017516.13696
    ],
    [
      1723382273890,
      315604959557.6671
    ],
    [
      1723385914985,
      318024233772.4375
    ],
    [
      1723388675644,
      314619704033.8833
    ],
    [
      1723393091994,
      313521409027.27246
    ],
    [
      1723395620948,
      315589559575.67456
    ],
    [
      1723399856221,
      317152711382.3985
    ],
    [
      1723404067076,
      316621843753.31903
    ],
    [
      1723407456365,
      308619200412.7071
    ],
    [
      1723411141795,
      308093256263.65393
    ],
    [
      1723414658665,
      308058302456.8054
    ],
    [
      1723418028949,
      308034079766.98315
    ],
    [
      1723420819734,
      307740266021.366
    ],
    [
      1723425274748,
      304423121586.94104
    ],
    [
      1723429007986,
      305783520856.81616
    ],
    [
      1723432407068,
      305840328962.69763
    ],
    [
      1723436176719,
      305214652796.65533
    ],
    [
      1723439474555,
      305756860452.74994
    ],
    [
      1723442857768,
      306942214313.32965
    ],
    [
      1723446738262,
      305216663328.45856
    ],
    [
      1723450853121,
      310725607555.1142
    ],
    [
      1723453446120,
      308220512697.22833
    ],
    [
      1723457876811,
      311961428701.92285
    ],
    [
      1723461407227,
      319972463783.153
    ],
    [
      1723464283115,
      322062360330.57275
    ],
    [
      1723468358289,
      322528031641.3638
    ],
    [
      1723472564727,
      321315624954.5626
    ],
    [
      1723475151039,
      323945022830.4819
    ],
    [
      1723479834924,
      321846868883.27893
    ],
    [
      1723483559359,
      321792566612.97986
    ],
    [
      1723486927772,
      321057132726.9367
    ],
    [
      1723490035191,
      318300318801.46515
    ],
    [
      1723493020978,
      319498228870.7444
    ],
    [
      1723497550869,
      320378781121.67255
    ],
    [
      1723501251333,
      324008677643.9226
    ],
    [
      1723504037833,
      325093599215.54486
    ],
    [
      1723507984941,
      327575858714.07715
    ],
    [
      1723511279552,
      327477709229.524
    ],
    [
      1723514920607,
      328399756742.7317
    ],
    [
      1723519076279,
      322065158575.1235
    ],
    [
      1723522571794,
      318838404466.4631
    ],
    [
      1723525584951,
      319625642444.29803
    ],
    [
      1723529994582,
      318870698596.5878
    ],
    [
      1723532694876,
      319670370489.588
    ],
    [
      1723537149017,
      318696797917.3971
    ],
    [
      1723540878834,
      317266675492.2693
    ],
    [
      1723544490631,
      316477130288.45337
    ],
    [
      1723547597274,
      317268620140.66876
    ],
    [
      1723550429671,
      317840557440.22015
    ],
    [
      1723554652268,
      318452902838.9054
    ],
    [
      1723559031769,
      321361814609.7843
    ],
    [
      1723562663959,
      318968977127.31036
    ],
    [
      1723566221762,
      322060415009.03564
    ],
    [
      1723568646414,
      325628958004.8722
    ],
    [
      1723571063000,
      327496451891.1188
    ]
  ],
  "total_volumes": [
    [
      1723053738272,
      24258544247.73831
    ],
    [
      1723057601227,
      24781253470.632107
    ],
    [
      1723060930361,
      25115081192.973812
    ],
    [
      1723064708838,
      25127999020.298756
    ],
    [
      1723068283242,
      24705681851.644497
    ],
    [
      1723072106204,
      25122590824.1104
    ],
    [
      1723075761939,
      24710667670.853138
    ],
    [
      1723079167841,
      24959915968.40787
    ],
    [
      1723082908424,
      25895689791.220997
    ],
    [
      1723086430730,
      25200967056.31063
    ],
    [
      1723089717258,
      25345202926.98522
    ],
    [
      1723093552619,
      22109127980.993965
    ],
    [
      1723097609040,
      24152616690.68412
    ],
    [
      1723100464023,
      23972157134.150753
    ],
    [
      1723104839579,
      24359298211.540115
    ],
    [
      1723108064617,
      24193671284.528393
    ],
    [
      1723111339696,
      22801887066.72813
    ],
    [
      1723115669059,
      23322367694.352657
    ],
    [
      1723119326254,
      23080747445.13119
    ],
    [
      1723122622365,
      21280630781.18889
    ],
    [
      1723125803003,
      22821224134.89083
    ],
    [
      1723129351842,
      20619137914.43664
    ],
    [
      1723132913165,
      21973015650.833008
    ],
    [
      1723136767899,
      23673172430.563004
    ],
    [
      1723140237295,
      24685886945.548717
    ],
    [
      1723143647956,
      23195145443.231472
    ],
    [
      1723147346446,
      23243594675.25584
    ],
    [
      1723150926483,
      22411530650.106037
    ],
    [
      1723154564666,
      23074945951.68815
    ],
    [
      1723158999211,
      24317151186.52757
    ],
    [
      1723162641265,
      24198685414.113697
    ],
    [
      1723166142279,
      23271349962.553944
    ],
    [
      1723169574415,
      23904452501.090218
    ],
    [
      1723172428227,
      23775408376.1931
    ],
    [
      1723177064959,
      23917696805.513325
    ],
    [
      1723179783783,
      23324017431.79396
    ],
    [
      1723184182274,
      23526198518.004017
    ],
    [
      1723187609529,
      24321392150.41984
    ],
    [
      1723191536224,
      23538504410.270664
    ],
    [
      1723194909486,
      23500903415.605164
    ],
    [
      1723198672032,
      23101999215.03611
    ],
    [
      1723201620971,
      24030678071.263615
    ],
    [
      1723205756847,
      24020206220.30735
    ],
    [
      1723208744214,
      22870913007.344814
    ],
    [
      1723212750504,
      22919750015.890457
    ],
    [
      1723215965900,
      20250050366.850475
    ],
    [
      1723219970607,
      20333994599.26142
    ],
    [
      1723223303330,
      20943217217.968124
    ],
    [
      1723226483359,
      20814408970.88638
    ],
    [
      1723230753228,
      20593364178.290768
    ],
    [
      1723234046144,
      20000966198.84654
    ],
    [
      1723237928664,
      18090870784.916653
    ],
    [
      1723241749748,
      20011102124.07618
    ],
    [
      1723245483690,
      16502438580.089716
    ],
    [
      1723248834607,
      17814897304.63064
    ],
    [
      1723252623131,
      18075546878.90015
    ],
    [
      1723256484872,
      16981509799.434103
    ],
    [
      1723260112225,
      15865932139.402853
    ],
    [
      1723263131881,
      16795250276.17812
    ],
    [
      1723266653777,
      16243204782.589792
    ],
    [
      1723269889037,
      15860351787.926632
    ],
    [
      1723273587251,
      15904972928.138933
    ],
    [
      1723277320236,
      15823031838.046335
    ],
    [
      1723280706641,
      15705396331.676878
    ],
    [
      1723284506767,
      14872125504.876652
    ],
    [
      1723288463543,
      14481621124.507137
    ],
    [
      1723291924959,
      14018013929.099009
    ],
    [
      1723295994638,
      13945767319.565273
    ],
    [
      1723299420725,
      11478436186.308826
    ],
    [
      1723302948759,
      11385088719.441843
    ],
    [
      1723306672719,
      9684920920.092056
    ],
    [
      1723310058257,
      10030028471.117983
    ],
    [
      1723313618547,
      9153610344.280365
    ],
    [
      1723317477475,
      9234646790.578278
    ],
    [
      1723320457879,
      10022280774.100319
    ],
    [
      1723323813595,
      9720980603.493782
    ],
    [
      1723327899034,
      9404270198.051674
    ],
    [
      1723330868474,
      9151351239.267431
    ],
    [
      1723334908987,
      8867817311.06677
    ],
    [
      1723338327307,
      8209679946.571988
    ],
    [
      1723341837985,
      7900938141.703563
    ],
    [
      1723345523040,
      7741184677.232663
    ],
    [
      1723349369468,
      8072494727.891929
    ],
    [
      1723352819095,
      8465524304.116682
    ],
    [
      1723356633758,
      8567770912.24635
    ],
    [
      1723360246031,
      8530418953.017887
    ],
    [
      1723363794708,
      8660497259.697899
    ],
    [
      1723367252835,
      8738347704.61497
    ],
    [
      1723370741457,
      9190155768.466606
    ],
    [
      1723374155467,
      9365590059.915768
    ],
    [
      1723377725477,
      9508149649.090677
    ],
    [
      1723382273890,
      10345088109.490112
    ],
    [
      1723385914985,
      10590539559.311493
    ],
    [
      1723388675644,
      10695263906.567554
    ],
    [
      1723393091994,
      10637811618.502686
    ],
    [
      1723395620948,
      11266043373.552673
    ],
    [
      1723399856221,
      10535441288.886112
    ],
    [
      1723404067076,
      11231194760.74718
    ],
    [
      1723407456365,
      11756075993.522932
    ],
    [
      1723411141795,
      11933635902.31443
    ],
    [
      1723414658665,
      12280084335.099442
    ],
    [
      1723418028949,
      10983114443.57982
    ],
    [
      1723420819734,
      12624674028.077477
    ],
    [
      1723425274748,
      14245851600.10455
    ],
    [
      1723429007986,
      14905961874.343924
    ],
    [
      1723432407068,
      15043996865.63709
    ],
    [
      1723436176719,
      14800208450.870419
    ],
    [
      1723439474555,
      13666415966.476477
    ],
    [
      1723442857768,
      14831575172.810032
    ],
    [
      1723446738262,
      15183899706.200836
    ],
    [
      1723450853121,
      15934197708.124548
    ],
    [
      1723453446120,
      15410527482.438585
    ],
    [
      1723457876811,
      16163902548.246004
    ],
    [
      1723461407227,
      13146847285.340422
    ],
    [
      1723464283115,
      17103110376.19781
    ],
    [
      1723468358289,
      17158694024.40389
    ],
    [
      1723472564727,
      18554478548.99044
    ],
    [
      1723475151039,
      20613541319.977158
    ],
    [
      1723479834924,
      21761074470.339046
    ],
    [
      1723483559359,
      22094198990.6005
    ],
    [
      1723486927772,
      19904810681.275177
    ],
    [
      1723490035191,
      22243068922.672215
    ],
    [
      1723493020978,
      20426821113.726704
    ],
    [
      1723497550869,
      22018197112.380264
    ],
    [
      1723501251333,
      19328637277.39755
    ],
    [
      1723504037833,
      21960127907.401764
    ],
    [
      1723507984941,
      20647527024.264385
    ],
    [
      1723511279552,
      20134321057.434395
    ],
    [
      1723514920607,
      22593405242.64435
    ],
    [
      1723519076279,
      19339243999.2308
    ],
    [
      1723522571794,
      20881561999.670616
    ],
    [
      1723525584951,
      22741044316.444862
    ],
    [
      1723529994582,
      22975979374.644424
    ],
    [
      1723532694876,
      19939941242.778793
    ],
    [
      1723537149017,
      22356813343.534023
    ],
    [
      1723540878834,
      22198970043.904537
    ],
    [
      1723544490631,
      20277438831.875835
    ],
    [
      1723547597274,
      21043107780.2078
    ],
    [
      1723550429671,
      20803544114.744778
    ],
    [
      1723554652268,
      20268055485.260677
    ],
    [
      1723559031769,
      19254624283.56512
    ],
    [
      1723562663959,
      17845484494.88116
    ],
    [
      1723566221762,
      14857028742.955683
    ],
    [
      1723568646414,
      17256209124.28737
    ],
    [
      1723571063000,
      18094557287.593422
    ]
  ]
};

export async function GET(request: Request) {
  const { searchParams } = new URL(request.url);
  const id = searchParams.get('id');
  const days = searchParams.get('days');

  if (!id || !days) {
    return NextResponse.json({ error: 'Please provide both id and days parameters' }, { status: 400 });
  }

  // const response = await fetch(
  //   `https://api.coingecko.com/api/v3/coins/${id}/market_chart?vs_currency=usd&days=${days}`
  // );

  // if (!response.ok) {
  //   return NextResponse.json({ error: 'Failed to fetch data from CoinGecko' }, { status: 500 });
  // }

  // const data = await response.json();

  
  const filteredData = filterOutToday(data);
  return NextResponse.json(addPriceByDay(filteredData));
}